(function(e){function n(n){for(var i,a,s=n[0],c=n[1],d=n[2],u=0,h=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(n);while(h.length)h.shift()();return o.push.apply(o,d||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],i=!0,s=1;s<t.length;s++){var c=t[s];0!==r[c]&&(i=!1)}i&&(o.splice(n--,1),e=a(a.s=t[0]))}return e}var i={},r={app:0},o=[];function a(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=i,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)a.d(t,i,function(n){return e[n]}.bind(null,i));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var l=c;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var i=t("64a9"),r=t.n(i);r.a},1:function(e,n){},2:function(e,n){},3:function(e,n){},4:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var i=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("ThreejsWorld",{attrs:{msg:"Test"}})],1)},o=[],a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"hello"},[t("h1",[e._v(e._s(e.msg))]),t("h2",[e._v(e._s(e.per+"%"))]),t("div",{attrs:{id:"canvas-element"}})])},s=[],c=(t("7f7f"),t("ac6a"),t("5a89")),d=t("dcdc"),l=(t("4721"),t("34ad")),u=t("0ca5"),h=t("3191"),f=t.n(h),p={name:"ThreejsWorld",props:{msg:String},created:function(){},data:function(){return{per:0,scene:"",renderer:"",light:"",camera:"",controls:"",publicPath:"",threeAssets:[],onRenderFcts:[],allMixers:[],mixer:""}},mounted:function(){var e=this;this.$nextTick(function(){e.init(),e.initAR()})},methods:{initAR:function(){var e=this,n=new d["THREEx"].ArToolkitSource({sourceType:"webcam"});function t(){n.onResizeElement(),n.copyElementSizeTo(e.renderer.domElement),null!==i.arController&&n.copyElementSizeTo(i.arController.canvas)}n.init(function(){t()}),window.addEventListener("resize",function(){t()});var i=new d["THREEx"].ArToolkitContext({cameraParametersUrl:d["THREEx"].ArToolkitContext.baseURL+"../data/data/camera_para.dat",detectionMode:"mono"});i.init(function(){e.camera.projectionMatrix.copy(i.getProjectionMatrix())});this.onRenderFcts.push(function(t){!1!==n.ready&&(i.update(n.domElement),e.scene.visible=e.camera.visible)});new d["THREEx"].ArMarkerControls(i,e.camera,{type:"pattern",patternUrl:"".concat(this.publicPath,"pattern/pattern-logo3.patt"),changeMatrixMode:"cameraTransformMatrix"})},init:function(){function e(e){requestAnimationFrame(this._animate),this.render(e)}var n=window.innerWidth,t=window.innerHeight;this.clock=new c["Clock"],this.scene=new c["Scene"],this.scene.add(new c["GridHelper"](1e3,100)),this.scene.add(new c["AxesHelper"](20)),this.scene.visible=!1,this.renderer=new c["WebGLRenderer"]({antialias:!0,alpha:!0,preserveDrawingBuffer:!0}),this.renderer.physicallyCorrectLights=!0,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(n,t),document.getElementById("canvas-element").appendChild(this.renderer.domElement),this.stats=new f.a,document.getElementById("canvas-element").appendChild(this.stats.dom),this.camera=new c["Camera"],this.scene.add(this.camera);var i=new c["HemisphereLight"];this.scene.add(i);var r=new c["AmbientLight"](16777215,.5);this.camera.add(r);var o=new c["DirectionalLight"](16777215,1.5*Math.PI);o.position.set(.5,0,.866),this.camera.add(o),this.loading(),this._animate=e.bind(this)},onWindowResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},render:function(e){this.clock.getDelta();var n=null;n=n||e-1e3/60;var t=Math.min(200,e-n);n=e,this.onRenderFcts.forEach(function(e){e(t/1e3)}),this.renderer.render(this.scene,this.camera),this.stats.update()},addGlb:function(e){var n=this.threeAssets[e];console.log(n);var t=this.threeAssets[e].scene;this.scene.add(t);var i=c["sRGBEncoding"];t.traverse(function(e){if(e.isMesh){e.castShadow=!0;var n=e.material;n.map&&(n.map.encoding=i),n.emissiveMap&&(n.emissiveMap.encoding=i),(n.map||n.emissiveMap)&&(n.needsUpdate=!0)}}),t.position.z=2,t.position.y=-2,t.scale.copy(new c["Vector3"](.005,.005,.005)),t.rotateX(-Math.PI/2);for(var r=n.animations,o=new c["AnimationMixer"](t),a=0;a<r.length;a++){var s=o.clipAction(r[a]);s.play()}this.allMixers.push(o)},addObj:function(){var e=this;this.addGlb("test1"),this.onRenderFcts.push(function(n){if(e.scene.visible)for(var t=0;t<e.allMixers.length;t++){var i=e.allMixers[t];i.update(n)}}),this._animate()},loading:function(){var e=this,n=new c["LoadingManager"];n.onStart=function(e,n,t){},n.onLoad=function(){console.log("Loading complete!"),e.addObj()},n.onProgress=function(n,t,i){var r=parseInt(t/i*100);console.log(r),e.per=r},n.onError=function(e){console.log("There was an error loading "+e)};var t=new l["a"](n),i=new u["a"];i.setDecoderPath("".concat(this.publicPath,"libs/draco")),i.setDecoderConfig({type:"js"}),t.setDRACOLoader(i),t.load("".concat(this.publicPath,"model/Soldier.glb"),function(n){e.threeAssets["Soldier"]=n}),t.load("".concat(this.publicPath,"model/test1.glb"),function(n){e.threeAssets["test1"]=n})}}},m=p,v=(t("9bb7"),t("2877")),w=Object(v["a"])(m,a,s,!1,null,"db13b964",null),g=w.exports,b={name:"app",components:{ThreejsWorld:g},mounted:function(){var e=this;this.$nextTick(function(){e.cssInit().eventInit()})},methods:{isPc:function(){for(var e=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=!0,i=0;i<n.length;i++)if(e.indexOf(n[i])>0){t=!1;break}return t},rootResize:function(){var e,n=document.documentElement.clientWidth||window.innerWidth,t=document.documentElement.clientHeight||window.innerHeight;e=n>t?t/750*100:n/750*100,document.getElementsByTagName("html")[0].style.fontSize=e+"px"},eventInit:function(){var e=this;return document.addEventListener("touchstart",function(e){},{passive:!1}),document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}),e},cssInit:function(){var e=this,n=100,t=1e3;return e.rootResize(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){var i,r,o,a,s,c;o=function(){clearInterval(i),clearTimeout(r),i=null,r=null,e.rootResize()},i=setInterval(function(){window.innerWidth===a&&window.innerHeight===s?(c++,c===n&&o()):(a=window.innerWidth,s=window.innerHeight,c=0)}),r=setTimeout(function(){o()},t)}),e}}},y=b,x=(t("034f"),Object(v["a"])(y,r,o,!1,null,null,null)),E=x.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(E)}}).$mount("#app")},"64a9":function(e,n,t){},"9bb7":function(e,n,t){"use strict";var i=t("fd2b"),r=t.n(i);r.a},fd2b:function(e,n,t){}});
//# sourceMappingURL=app.04805ecb.js.map